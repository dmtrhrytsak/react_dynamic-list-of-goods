{"version":3,"sources":["components/GoodsList/GoodsList.tsx","components/Loader/Loader.tsx","components/LoadingError/LoadingError.tsx","api/goods.ts","App.tsx","index.tsx"],"names":["GoodsList","goods","className","map","id","name","color","style","Loader","LoadingError","API_URL","wait","delay","Promise","resolve","setTimeout","getAllGoods","a","fetch","response","ok","Error","status","json","get5FirstGoods","allGoods","sort","goodA","goodB","localeCompare","slice","getRedGoods","filter","good","App","state","isLoading","isReceived","hasLoadingError","loadGoods","getGoods","setState","this","type","onClick","React","Component","ReactDOM","render","document","getElementById"],"mappings":"kVAQaA,EAA6B,SAAC,GAAe,IAAbC,EAAY,EAAZA,MAC3C,OACE,oBAAIC,UAAU,YAAd,SACGD,EAAME,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,KAAMC,EAAb,EAAaA,MAAb,OACT,oBAAaC,MAAO,CAAED,SAASJ,UAAU,kBAAzC,SACGG,GADMD,SCVJI,G,MAAmB,WAC9B,OACE,sBAAKN,UAAU,WAAf,UACE,wBACA,wBACA,wBACA,6BCJOO,EAAgC,SAAC,GAAmB,IAAjBP,EAAgB,EAAhBA,UAC9C,OACE,yBAASA,UAAS,uBAAkBA,GAApC,SACE,gFCJAQ,EAAO,wEAEPC,EAAO,SAACC,GACZ,OAAO,IAAIC,SAAQ,SAACC,GAClBC,WAAWD,EAASF,OAIjB,SAAeI,IAAtB,+B,4CAAO,4BAAAC,EAAA,sEACCN,EAAK,KADN,uBAEkBO,MAAMR,GAFxB,WAECS,EAFD,QAISC,GAJT,sBAKG,IAAIC,MAAJ,8BAAiCF,EAASG,SAL7C,gCAQEH,EAASI,QARX,4C,sBAWA,IAAMC,EAAc,uCAAG,4BAAAP,EAAA,sEACLD,IADK,cACtBS,EADsB,yBAGrBA,EACJC,MAAK,SAACC,EAAOC,GAAR,OAAkBD,EAAMtB,KAAKwB,cAAcD,EAAMvB,SACtDyB,MAAM,EAAG,IALgB,2CAAH,qDAQdC,EAAW,uCAAG,4BAAAd,EAAA,sEACFD,IADE,cACnBS,EADmB,yBAGlBA,EAASO,QAAO,SAACC,GAAD,MAAyB,QAAfA,EAAK3B,UAHb,2CAAH,qDCVlB4B,G,wNACJC,MAAe,CACblC,MAAO,GACPmC,WAAW,EACXC,YAAY,EACZC,iBAAiB,G,EAGnBC,U,uCAAY,WAAOC,GAAP,eAAAvB,EAAA,6DACV,EAAKwB,SAAS,CACZL,WAAW,EACXE,iBAAiB,IAHT,kBAOYE,IAPZ,OAOFvC,EAPE,OASR,EAAKwC,SAAS,CACZxC,QACAoC,YAAY,IAXN,gDAcR,EAAKI,SAAS,CACZH,iBAAiB,IAfX,yBAkBR,EAAKG,SAAS,CACZL,WAAW,IAnBL,4E,kGAwBZ,WAAU,IAAD,OAEP,EAA0DM,KAAKP,MAAvDlC,EAAR,EAAQA,MAAOmC,EAAf,EAAeA,UAAWC,EAA1B,EAA0BA,WAAYC,EAAtC,EAAsCA,gBAEtC,OACE,qBAAKpC,UAAU,MAAf,SACE,sBAAKA,UAAU,eAAf,UACE,sBAAKA,UAAU,eAAf,UACE,wBACEyC,KAAK,SACLzC,UAAU,cACV0C,QAAS,kBAAM,EAAKL,UAAUvB,IAHhC,4BAOA,wBACE2B,KAAK,SACLzC,UAAU,cACV0C,QAAS,kBAAM,EAAKL,UAAUf,IAHhC,gCAOA,wBACEmB,KAAK,SACLzC,UAAU,cACV0C,QAAS,kBAAM,EAAKL,UAAUR,IAHhC,+BASF,sBAAK7B,UAAU,aAAf,UACGkC,GAAa,cAAC,EAAD,IACbC,GAAc,cAAC,EAAD,CAAWpC,MAAOA,OAGlCqC,GAAmB,cAAC,EAAD,CAAcpC,UAAU,gC,GApEpC2C,IAAMC,YA2ETZ,IC5Ffa,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.4c716c08.chunk.js","sourcesContent":["import { Good } from '../../types/Good';\n\nimport './GoodsList.scss';\n\ntype Props = {\n  goods: Good[];\n};\n\nexport const GoodsList: React.FC<Props> = ({ goods }) => {\n  return (\n    <ul className=\"GoodsList\">\n      {goods.map(({ id, name, color }) => (\n        <li key={id} style={{ color }} className=\"GoodsList__item\">\n          {name}\n        </li>\n      ))}\n    </ul>\n  );\n};\n","import './Loader.css';\n\nexport const Loader: React.FC = () => {\n  return (\n    <div className=\"lds-ring\">\n      <div />\n      <div />\n      <div />\n      <div />\n    </div>\n  );\n};\n","type Props = {\n  className: string;\n};\n\nexport const LoadingError: React.FC<Props> = ({ className }) => {\n  return (\n    <article className={`LoadingError ${className}`}>\n      <p>*We couldn&#8217;t fetch data from the server</p>\n    </article>\n  );\n};\n","import { Good } from '../types/Good';\n\n// eslint-disable-next-line\nconst API_URL = `https://mate-academy.github.io/react_dynamic-list-of-goods/goods.json`;\n\nconst wait = (delay: number): Promise<typeof delay> => {\n  return new Promise((resolve) => {\n    setTimeout(resolve, delay);\n  });\n};\n\nexport async function getAllGoods(): Promise<Good[]> {\n  await wait(1000);\n  const response = await fetch(API_URL);\n\n  if (!response.ok) {\n    throw new Error(`HTTP error! status: ${response.status}`);\n  }\n\n  return response.json();\n}\n\nexport const get5FirstGoods = async () => {\n  const allGoods = await getAllGoods();\n\n  return allGoods\n    .sort((goodA, goodB) => goodA.name.localeCompare(goodB.name))\n    .slice(0, 5);\n};\n\nexport const getRedGoods = async () => {\n  const allGoods = await getAllGoods();\n\n  return allGoods.filter((good) => good.color === 'red');\n};\n","import React from 'react';\n\nimport { GoodsList } from './components/GoodsList';\nimport { Loader } from './components/Loader';\nimport { LoadingError } from './components/LoadingError';\n\nimport { Good } from './types/Good';\n\nimport { getAllGoods, get5FirstGoods, getRedGoods } from './api/goods';\n\nimport './App.scss';\nimport './utils/reset.scss';\n\ntype State = {\n  goods: Good[] | [];\n  isLoading: boolean;\n  isReceived: boolean;\n  hasLoadingError: boolean;\n};\n\nclass App extends React.Component<{}, State> {\n  state: State = {\n    goods: [],\n    isLoading: false,\n    isReceived: false,\n    hasLoadingError: false,\n  };\n\n  loadGoods = async (getGoods: () => Promise<Good[]>) => {\n    this.setState({\n      isLoading: true,\n      hasLoadingError: false,\n    });\n\n    try {\n      const goods = await getGoods();\n\n      this.setState({\n        goods,\n        isReceived: true,\n      });\n    } catch (error) {\n      this.setState({\n        hasLoadingError: true,\n      });\n    } finally {\n      this.setState({\n        isLoading: false,\n      });\n    }\n  };\n\n  render() {\n    // eslint-disable-next-line object-curly-newline\n    const { goods, isLoading, isReceived, hasLoadingError } = this.state;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__wrapper\">\n          <div className=\"App__actions\">\n            <button\n              type=\"button\"\n              className=\"App__button\"\n              onClick={() => this.loadGoods(getAllGoods)}\n            >\n              Load All goods\n            </button>\n            <button\n              type=\"button\"\n              className=\"App__button\"\n              onClick={() => this.loadGoods(get5FirstGoods)}\n            >\n              Load 5 first goods\n            </button>\n            <button\n              type=\"button\"\n              className=\"App__button\"\n              onClick={() => this.loadGoods(getRedGoods)}\n            >\n              Load red goods\n            </button>\n          </div>\n\n          <div className=\"App__goods\">\n            {isLoading && <Loader />}\n            {isReceived && <GoodsList goods={goods} />}\n          </div>\n\n          {hasLoadingError && <LoadingError className=\"App__loading-error\" />}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}